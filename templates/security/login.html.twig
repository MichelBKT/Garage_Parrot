{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
<form method="post">

    {% include "partials/flash_message/_error_flash_message.html.twig" %}

    {% if app.user %}
        <div class="mb-3">
            You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
        </div>
    {% endif %}
    <div class="row justify-content-center">
        <h1 class="my-5 font-weight-normal text-success text-center shadow-lg col-lg-6">Connexion</h1>
        <div class="row justify-content-center">         
            <label for="inputEmail" class="text-light col-lg-4">Email
                <input
                    type="email" 
                    value="{{ last_username }}" 
                    name="email" 
                    id="inputEmail" 
                    class="form-control mb-5" 
                    autocomplete="email" 
                    required autofocus
                />
            </label>
        </div>
        <div class="row justify-content-center">
            <label for="inputPassword" class="text-light col-lg-4">Mot de passe
                <input 
                    type="password" 
                    name="password" 
                    id="inputPassword" 
                    class="form-control mb-5" 
                    autocomplete="current-password" 
                    required autofocus
                />
            </label>
        </div>
        <input 
            type="hidden" 
            name="_csrf_token"
            value="{{ csrf_token('authenticate') }}"
        />
        <div class="row row-cols-3 justify-content-center">
        <button class="btn btn-lg btn-outline-info my-5 col-lg-2 mx-3 linkNav" type="submit">
            Me connecter
        </button>
        <a href="{{ path('app_') }}" class="btn btn-lg btn-success my-5 col-lg-2 linkNav">Retour</a>
        </div>
    </div>
</form>
{% endblock %}
